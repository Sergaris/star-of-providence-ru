# Полный перевод Star of Providence на русский язык

## Задача

Перевести ВСЕ оставшиеся CSV-файлы локализации игры Star of Providence на русский язык. Файлы находятся в:

```
E:\SteamLibrary\steamapps\common\Star of Providence\localization\
```

## Контекст игры

Star of Providence (бывший Monolith) — **top-down roguelite-шутер** на GameMaker. Мрачная, атмосферная, подземная тематика. Игрок исследует подземное сооружение, сражается с врагами, собирает оружие и улучшения. NPC-персонажи — антропоморфные существа с неформальной разговорной речью.

**Жанровые термины**: rogue-lite, dungeon crawler, bullet hell.

## Техническая спецификация

### Формат CSV

- **Кодировка**: UTF-8 with BOM (`utf-8-sig`)
- **Заголовок**: `ID,Comments,EN,DE,FR,ES,PTBR,ZHS,JA`
- **Целевая колонка**: `ZHS` (индекс 7, считая от 0)
- **Исходная колонка**: `EN` (индекс 2) — переводить с английского

### Спецсимволы в тексте — СОХРАНЯТЬ КАК ЕСТЬ

| Символ | Значение | Пример |
|--------|----------|--------|
| `#` | Перенос строки | `двойной урон#на 3 секунды` |
| `##` | Двойной перенос / абзац | `описание##детали` |
| `/c1` | Начало цветного текста (выделение) | `/c1ключевые слова/c0` |
| `/c0` | Конец цветного текста | |
| `/c5` | Другой цвет (зелёный?) | |
| `/p1.` | Пауза в тексте | `/p1./p1./p1.` |
| `%var%` | Переменная: `%nr%`, `%tier%`, `%loop%` | `-цикл %loop%-` |
| `A%` | Переменная процента (в item_tooltip) | `+A% макс. боезапас` |
| `D%` | Переменная урона (в item_tooltip) | `D% увеличение урона` |
| `_` | Завершающий символ (в машинном тексте) | `очистка в процессе…_` |

### Строки-комментарии

Строки, начинающиеся с `,` (без ID) — это **комментарии разработчиков**. Их НЕ нужно переводить, оставить как есть.

### Пустые строки

Пустые строки (`,,,,,,,,,`) — разделители между группами диалогов. Оставить как есть.

## Стиль перевода

### Общие принципы

1. **Краткость**: перевод должен быть не длиннее оригинала. Это пиксельная игра с маленьким шрифтом, длинные строки не помещаются.
2. **Нижний регистр**: игра использует lowercase. Перевод тоже должен быть в нижнем регистре (кроме аббревиатур: ОЗ, HP, ЭЛТ и пр.)
3. **Тон**: неформальный, лаконичный, иногда ироничный. Не канцелярит.
4. **Игровые термины** (единообразие):
   - HP / health → ОЗ (очки здоровья) или здоровье
   - ammo → боезапас
   - damage → урон
   - multiplier → множитель
   - scrap → лом (игровая валюта)
   - bomb → бомба
   - dash → рывок
   - shield → щит
   - floor → этаж
   - room → комната
   - weapon → оружие
   - keywords → ключевые слова
   - crit/critical → крит/критический
   - default weapon → базовое оружие
   - blessing → благословение
   - upgrade → улучшение
   - cart/cartridge → картридж
   - active item → активный предмет
   - firerate → скорострельность
   - max ammo → макс. боезапас

### Примеры уже переведённых строк (для единообразия тона)

```
start → старт
options → опции
exit → выход
back → назад
resume → продолжить
exit to menu → в меню
language → язык
choose one → выберите один
so be it → да будет так
escape to cancel → ESC — отмена
fullscreen → полный экран
the nimbus has been broken → нимб разрушен
the breach has been opened → брешь открыта
game in progress, continue? → игра в процессе, продолжить?
yeah → да
nah → нет
good luck → удачи
your time is nigh → твой час близок
it begins → начало
out of depth → за гранью
everything hurts → всё болит
eternal nightmare → вечный кошмар
```

### Специфика по типам файлов

**Имена (name)**: короткие, ёмкие. Часто одно-два слова.
```
unstable catalyst → нестабильный катализатор
ancient runestone → древний рунный камень
petri dish → чашка Петри
```

**Описания (description/tooltip)**: краткие фразы, часто с `#` для переноса.
```
gain extra rewards#when replacing weapons → доп. награды#при замене оружия
immunity to lightning, frost,#and hazards → иммунитет к молнии, морозу#и опасностям
```

**Диалоги (gossip)**: разговорная речь NPC. Неформально, с характером.
```
found anything interesting down there? → нашёл что-нибудь интересное там внизу?
don't wanna get my fur wet anyway. → не хочу мочить шерсть, в любом случае.
nifty, eh? → удобно, а?
what a terrible way to go. → жуткая смерть.
```

**Смерти (death)**: реплики NPC после гибели игрока. Иронично, с сочувствием.
```
you got squashed? → тебя раздавило?
how'd you even? → как вообще?
```

**Титры (credits)**: переводить ТОЛЬКО заголовки, имена людей оставить как есть.
```
programming: → программирование:
art and direction: → арт и руководство:
special thanks → особая благодарность
thank you for playing → спасибо за игру
the end? → конец?
```

**Клавиши (keyboard_keys)**: оставить БЕЗ перевода. Названия клавиш (shift, ctrl, alt, enter, space...) в играх всегда на английском.

## Файлы для перевода (по приоритету)

### Приоритет 1 — Основной геймплей (~400 строк)

| Файл | Строк | Описание |
|------|-------|----------|
| `item_tooltip.csv` | 77 | Описания предметов |
| `upgrade_description.csv` | 20 | Описания улучшений |
| `upgrade_tooltip.csv` | 20 | Подсказки улучшений |
| `blessing_tooltip.csv` | 7 | Описания благословений |
| `active_name.csv` | 41 | Названия активных предметов |
| `active_description.csv` | 41 | Описания активных предметов |
| `bomb_name.csv` | 11 | Названия бомб |
| `bomb_description.csv` | 11 | Описания бомб |
| `weapon_keyword.csv` | 118 | Ключевые слова оружия |
| `weapon_keyword_ex.csv` | 118 | Расшир. ключевые слова |
| `skull_name.csv` | 63 | Названия модификаторов |
| `special_name.csv` | 59 | Названия спецпредметов |
| `cart_name.csv` | 64 | Названия картриджей |
| `cart_desc.csv` | 64 | Описания картриджей |

### Приоритет 2 — UI и информационные (~250 строк)

| Файл | Строк | Описание |
|------|-------|----------|
| `map_tooltip.csv` | 42 | Подсказки карты |
| `hack_text.csv` | 37 | Тексты при взломе |
| `unlock_name.csv` | 37 | Названия разблокировок |
| `roomtype_name.csv` | 31 | Типы комнат |
| `greeting_strings.csv` | 24 | Приветствия |
| `mirror_strings.csv` | 24 | Зеркальные строки |
| `branch_strings.csv` | 18 | Ветвление |
| `kleines_caption.csv` | 19 | Подписи |
| `score_caption.csv` | 14 | Подписи счёта |
| `database_name.csv` | 11 | Названия баз данных |
| `report_tooltip.csv` | 8 | Подсказки отчётов |
| `bestiary_type.csv` | 7 | Типы бестиария |
| `tooltip_buc.csv` | 7 | Подсказки BUC |
| `tooltip_crate.csv` | 2 | Подсказки ящиков |
| `crate_strings.csv` | 10 | Строки ящиков |
| `notification_name.csv` | 2 | Уведомления |
| `area_report.csv` | 11 | Отчёты по зонам |
| `postgame_strings.csv` | 79 | Послеигровые строки |
| `credits_strings.csv` | 37 | Строки титров |

### Приоритет 3 — Бестиарий и смерти (~400 строк)

| Файл | Строк | Описание |
|------|-------|----------|
| `bestiary_entry.csv` | 183 | Записи бестиария |
| `bestiary_special.csv` | 17 | Спец. записи бестиария |
| `death_action.csv` | 21 | Действия при смерти |
| `death_source_string.csv` | 212 | Источники смерти |

### Приоритет 4 — Массовые диалоги (~1920 строк)

| Файл | Строк | Описание |
|------|-------|----------|
| `gossip_tank.csv` | 1376 | Основные диалоги NPC |
| `gossip_death.csv` | 541 | Диалоги NPC после смерти |
| `gossip_alt.csv` | 4 | Альтернативные диалоги |
| `debris_string.csv` | 1 | Строка обломков |
| `focus_message.csv` | 1 | Сообщение фокусировки |

### Уже переведены (НЕ ТРОГАТЬ)

- `option_caption.csv` ✓
- `option_tooltip.csv` ✓
- `mode_name.csv` ✓
- `ui_strings.csv` ✓ (частично, докончить)
- `upgrade_name.csv` ✓
- `weapon_name.csv` ✓
- `boss_name.csv` ✓
- `control_display.csv` ✓
- `stat_name.csv` ✓
- `area_name.csv` ✓ (частично, докончить)
- `blessing_name.csv` ✓ (частично, докончить)
- `rarity_name.csv` ✓
- `language_name.csv` ✓

### Не требуют перевода

- `keyboard_keys.csv` — названия клавиш, оставить как есть
- `keyboard_keys_switch.csv` — названия клавиш Switch
- `credits.csv` — только заголовки (programming:, art:, etc.)

## Процедура для каждого файла

1. Прочитать файл (`Read`)
2. Для каждой строки с числовым ID:
   - Взять значение из колонки EN (индекс 2)
   - Перевести на русский
   - Записать перевод в колонку ZHS (индекс 7) через `StrReplace`
3. **НЕ менять**: заголовок, строки-комментарии, пустые строки, другие колонки
4. Сохранить в UTF-8 BOM

## Ожидаемый результат

Все ~3300 строк переведены на русский. ZHS-колонка содержит русский текст вместо английских заглушек. Стиль единообразный, тон соответствует игре. Спецсимволы (`#`, `/c1`, `%var%`) сохранены. Длина перевода не превышает оригинал более чем на 20%.

# Star of Providence — Русификатор

Неофициальный русский перевод для [Star of Providence](https://store.steampowered.com/app/603960/Star_of_Providence/) (бывший Monolith).

Подход аналогичен [корейскому патчу](https://github.com/flameblast12/StarOfProvidenceKR): русский язык занимает слот китайского (ZHS) в CSV-файлах локализации. В игре появляется пункт «русский» вместо «chinese».

## Установка

**Требования**: Python 3.11+

### Автоматически

```bash
git clone https://github.com/YOUR_USERNAME/star-of-providence-ru.git
cd star-of-providence-ru
python install.py
```

Скрипт сам найдёт игру в стандартных папках Steam.

### Указать путь вручную

```bash
python install.py "D:\SteamLibrary\steamapps\common\Star of Providence"
```

Путь к папке игры можно узнать через Steam: ПКМ по игре → Управление → Просмотреть локальные файлы.

### Восстановить оригинал

```bash
python install.py --restore
```

## Что делает скрипт

1. **Создаёт бэкапы** всех оригинальных CSV и шрифта (`.backup_ru`)
2. **Патчит 58 CSV-файлов** — заменяет колонку ZHS (китайский) на русский текст
3. **Устанавливает шрифт** — заменяет `Chusung-220206.ttf` на Noto Sans ExtraBold с поддержкой кириллицы
4. **Переименовывает язык** — в `language_name.csv` слот «chinese» становится «russian»/«русский»

После установки: запустите игру → Опции → Язык → выберите «русский».

## Структура репозитория

```
star-of-providence-ru/
├── install.py               # Установщик (бэкап + патч + шрифт)
├── fonts/
│   └── NotoSans-ExtraBold.ttf  # Шрифт с кириллицей
├── TRANSLATION_PROMPT.md    # Промпт для нейросети для полного перевода
└── README.md
```

## TODO

- [ ] **Перевод не полный** — переведены меню, настройки, оружие, режимы, улучшения, зоны, боссы (~400 строк). Остальные ~2900 строк отображаются на английском как заглушка
- [ ] Перевести описания предметов (`item_tooltip.csv`, `active_description.csv`, `cart_desc.csv`)
- [ ] Перевести бестиарий (`bestiary_entry.csv` — 183 записи)
- [ ] Перевести диалоги NPC (`gossip_tank.csv` — 1376 строк, `gossip_death.csv` — 541 строка)
- [ ] Перевести сообщения при смерти (`death_source_string.csv` — 212 строк)
- [ ] Перевести послеигровые строки, тексты взлома, приветствия и прочие мелкие файлы
- [ ] Шрифт может отображаться со смещением по вертикали (Noto Sans имеет другие метрики, чем оригинальный Chusung)
- [ ] Подобрать шрифт с метриками ближе к оригиналу, либо найти способ скорректировать baseline

## Как помочь с переводом

В файле `TRANSLATION_PROMPT.md` — подробный промпт для нейросети (Claude, ChatGPT и т.д.) с описанием формата, стиля, глоссарием и списком всех файлов по приоритету.

Переводы добавляются в словари `*_RU` внутри `install.py`. Формат: `"english text": "русский текст"`.

## Известные особенности

- Заменяет китайский язык — после установки патча китайский перевод будет недоступен
- Не требует модификации `data.win` или исполняемого файла
- Совместимость: проверено на версии игры от февраля 2026

## Лицензия

Фанатский перевод. Star of Providence © Team D-13.
Шрифт Noto Sans — [SIL Open Font License](https://scripts.sil.org/OFL).
